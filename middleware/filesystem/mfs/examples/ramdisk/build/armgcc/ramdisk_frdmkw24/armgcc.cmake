# this one is important
SET(CMAKE_SYSTEM_NAME Linux)
#this one not so much
SET(CMAKE_SYSTEM_VERSION 1)


# TOOLCHAIN EXTENSION
IF(WIN32)
    SET(TOOLCHAIN_EXT ".exe")
ELSE()
    SET(TOOLCHAIN_EXT "")
ENDIF()

# TOOLCHAIN_DIR
SET(TOOLCHAIN_DIR $ENV{ARMGCC_DIR})
STRING(REGEX REPLACE "\\\\" "/" TOOLCHAIN_DIR "${TOOLCHAIN_DIR}")

IF(NOT TOOLCHAIN_DIR)
    MESSAGE(FATAL_ERROR "***Please set ARMGCC_DIR in envionment variables***")
ENDIF()

# specify the cross compiler
CMAKE_FORCE_C_COMPILER("${TOOLCHAIN_DIR}/bin/arm-none-eabi-gcc${TOOLCHAIN_EXT}" GNU)
CMAKE_FORCE_CXX_COMPILER("${TOOLCHAIN_DIR}/bin/arm-none-eabi-gcc${TOOLCHAIN_EXT}" GNU)
SET(CMAKE_FORCE_ASM_COMPILER "${TOOLCHAIN_DIR}/bin/arm-none-eabi-gcc${TOOLCHAIN_EXT}")

